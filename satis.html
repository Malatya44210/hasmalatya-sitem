<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tüm Ürünler - Has Malatya Pazarı</title>
    </head>
<body>
    <script>
        const GITHUB_USERNAME = "Malatya44210";
        const GITHUB_REPO = "hasmalatya-sitem";
        const CART_STORAGE_KEY = 'hasmalatya-sitem-cart'; // TEK VE DOĞRU SEPET İSMİ

        let allProducts = []; let allCategories = [];

        async function loadData() { /* ... Bu fonksiyon aynı kalabilir ... */ }
        function renderCategories() { /* ... Bu fonksiyon aynı kalabilir ... */ }
        function renderProducts(filterCategory = 'all') { /* ... Bu fonksiyon aynı kalabilir ... */ }
        function filterProducts(category, clickedButton) { /* ... Bu fonksiyon aynı kalabilir ... */ }

        function getCart() { return localStorage.getItem(CART_STORAGE_KEY) ? JSON.parse(localStorage.getItem(CART_STORAGE_KEY)) : []; }
        function saveCart(cart) { localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart)); updateCartCounter(); }
        function addToCart(productName, price, productId) {
            const cart = getCart();
            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) { existingItem.quantity++; } else { cart.push({ id: productId, name: productName, price: price, quantity: 1 }); }
            saveCart(cart);
            showAddToCartAlert(productName);
        }
        function updateCartCounter() { const totalItems = getCart().reduce((total, item) => total + item.quantity, 0); document.getElementById('cartCount').textContent = totalItems; }
        function showAddToCartAlert(productName) { /* ... Bu fonksiyon aynı kalabilir ... */ }

        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateCartCounter();
        });
    </script>
</body>
</html>